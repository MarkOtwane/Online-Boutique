<div class="products-container">
  <h1>Our Products</h1>
  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
    <button [routerLink]="['/login']">Log In</button>
  </div>
  <div *ngIf="!products.length && !errorMessage" class="loading">Loading...</div>
  <div class="product-list" *ngIf="products.length">
    <div *ngFor="let product of products" class="product-card">
      <h3>{{ product.name }}</h3>
      <p>Price: ${{ product.price }}</p>
      <p>Category: {{ product.category?.name || 'Uncategorized' }}</p>
      <p>Added: {{ product.createdAt | date:'short' }}</p>
      <button (click)="addToCart(product)">Add to Cart</button>
      <button *ngIf="authService.getUser()?.role === 'admin'" (click)="editProduct(product.id)">Edit</button>
      <button *ngIf="authService.getUser()?.role === 'admin'" (click)="deleteProduct(product.id)">Delete</button>
    </div>
  </div>
</div>